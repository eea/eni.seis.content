<!--
Access to environmental information

Replace: Areas of work - Data management and infrastructure

Structure:
- Terms of reference
- Meetings - Regional events
- Meetings - National events
    Meetings: for Open data & e-Governance will need to apear in the dedicated page
- National reports
- Good practice reports

The reports are in progress, there will be 6 reports, one for each country.
They will appear in Countries, but also in this dedicated page.
-->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">

<body>

  <metal:content-core fill-slot="content-core">
    <div class="access-environmental-container">
      <div tal:replace="structure context/long_description" />

      <legend>
        <span class="level-national">
          <i class="fa fa-circle level-national" aria-hidden="true"></i>
          <span>National Event</span>
        </span>
        <span class="level-regional">
          <i class="fa fa-circle level-regional" aria-hidden="true"></i>
          <span>Regional Event</span>
        </span>
        <span class="other">
          <i class="fa fa-circle other" aria-hidden="true"></i>
          <span>Other Event</span>
        </span>
      </legend>

      <div class="featured-meetings-container">
        <table class="listing event-table table table-responsive table-hover"
               summary="Content listing"
               i18n:attributes="summary summary_content_listing;">
          <thead>
            <tr>
              <th>Year</th>
              <th>Dates</th>
              <th>Title</th>
              <th>Location</th>
            </tr>
          </thead>

          <tbody>

            <tal:repeat repeat="item python:context.getFeaturedMeetings()">
            <tr tal:define="oddrow repeat/item/odd; event_level python: context.get_event_level(item)"
                tal:attributes="class python: test(event_level, 'level-' + event_level, '') + ' ' + test(oddrow, 'even', 'odd')">
              <td><span tal:content="python: context.get_event_year(item)"></span></td>
              <td><span tal:content="python:context.get_event_dates(item)"></span></td>
              <td><a href="" tal:attributes="href item/getURL" tal:content="item/Title">Item</a></td>
              <td><span tal:content="python: context.get_event_location(item)"></span></td>
            </tr>
            </tal:repeat>
          </tbody>
        </table>
      </div>

      <div class="national-reports-container">
        <h2>National reports</h2>
        <p tal:content="python:context.getNationalReports()">
          TODO implement reports
        </p>
      </div>

      <div class="gp-reports-container">
        <h2>Good practice reports</h2>
        <p>TODO implement reports</p>
      </div>
    </div>

    <metal:subtopics use-macro="context/atct_topic_view/macros/folderlisting_macro" />

  </metal:content-core>

</body>
</html>
