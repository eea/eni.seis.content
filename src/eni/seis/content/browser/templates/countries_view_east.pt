<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="plone">

  <tal:col metal:fill-slot="portlets_one_slot"></tal:col>
  <tal:col metal:fill-slot="portlets_two_slot"></tal:col>

  <body metal:fill-slot="content-core"
        tal:define="country python:context;
                    country_title python:country.Title()">

    <div class="row no-portlets">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
        <h1 class="eni-page-title">Partner Countries</h1>
      </div>
    </div>

    <div class="row no-portlets countries-container">
      <tal:countries tal:repeat="country python:view.get_countries_folders()">
        <div class="col-lg-2 col-md-2 col-sm-4 col-xs-12">
          <a href="" tal:attributes="href country/absolute_url" class="country-item">
            <div class="country-box">
              <img src="" alt="flag" class="country-flag"
                   tal:attributes="src python:country.absolute_url()
                   + '/flag/@@images/image/preview'" />
              <p class="country-title" tal:content="country/Title">Country title</p>
            </div>
          </a>
        </div>
      </tal:countries>
    </div>

    <div class="row no-portlets country-visits-container">
      <tal:visits tal:repeat="visits_page python:view.get_country_visits_pages()">
        <div class="col-lg-12 col-md-12 col-sm-14 col-xs-12 country-visits-item">
          <h3 tal:content="visits_page/Title">Country visits in 2016</h3>
          <p>
            <span tal:content="visits_page/Description">Page description</span>
            <a href="" tal:attributes="href visits_page/absolute_url">
              Read more
            </a>
        </div>
      </tal:visits>
    </div>

    <div class="row no-portlets environmental-indicators-container">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center">
        <h2 class="eni-section-title">UNECE ENVIRONMENTAL INDICATORS</h2>
      </div>
      <div class="col-lg-5 col-md-12 col-sm-12 col-xs-12 indicators-description">
        <p>Lorem ipsum description</p>
        <p>Lorem Ipsum is simply dummy text of the printing and typesetting
           industry. Lorem Ipsum has been the industry's standard dummy text
           ever since the 1500s, when an unknown printer took a galley of type
           and scrambled it to make a type specimen book. It has survived not
           only five centuries, but also the leap into electronic typesetting,
           remaining essentially unchanged.
        </p>
      </div>
      <div class="col-lg-7 col-md-12 col-sm-12 col-xs-12 indicators-description">
        <img src="unece-environmental-indicators.png" />
      </div>
    </div>

    <div class="row container-table-indicators" tal:define="
      data python:view.get_indicators_table_data();
      table_data python:data['table_data'];
      categories python:data['categories'];
      subcategories python:data['subcategories'];
      countries python:data['countries'];
      indicators_categories
      python:context.unrestrictedTraverse('indicators_data/get_indicators_categories')();
      indicators_subcategories
      python:context.unrestrictedTraverse('indicators_data/get_indicators_subcategories')();
      tabs python:indicators_categories">

      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 col-nav-tabs">

        <ul class="nav nav-tabs">
          <tal:tab tal:repeat="tab tabs">
          <li tal:attributes="class python:'active' if not repeat['tab'].index else ''">
            <a tal:attributes="href string:#${tab};" data-toggle="tab">
              <div class="tab-title" tal:content="tab">
                <h3>Tab Title</h3>
              </div>
              <div class="tab-description" tal:content="python:tabs[tab]">
                Tab description
              </div>
            </a>
          </li>
          </tal:tab>
        </ul>

        <div class="tab-content">
          <tal:tab tal:repeat="tab tabs">

          <div tal:attributes="
            id tab;
            class python:'tab-pane active' if not repeat['tab'].index else 'tab-pane'"
            class="tab-pane active"
            data-toggle="pill">

            <div class="container container-table-indicators">
              <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12
                  col-table-indicators">
                  <table class="table table-responsive table-hover indicators" summary="Content listing">
                    <thead>
                      <tr>
                        <th>
                          <h2>
                            &nbsp;
                            <span tal:replace="tab"></span>.&nbsp;
                            <span tal:replace="python:tabs[tab]"></span>
                            &nbsp;
                          </h2>
                        </th>
                        <th tal:repeat="country python:countries">
                          <h3>
                            &nbsp;
                            <span tal:replace="country">Armenia</span>
                            &nbsp;
                          </h3>
                          <p class="indicators-number"
                          tal:content="python:'14'">
                            14
                          </p>
                        </th>
                        <th><!-- Link to the indicator --></th>
                      </tr>
                    </thead>
                    <tbody tal:define="valid_subcategories python:[x for x in
                      subcategories if x[0] == tab]">
                      <tal:repeat tal:repeat="subcategory valid_subcategories">
                        <tr tal:define="oddrow repeat/subcategory/odd;"
                            tal:attributes="class python:'odd' if
                            oddrow else 'even'">
                          <td>
                            <span
                              tal:replace="python:subcategory + '. ' + indicators_subcategories[subcategory]">Indicator title</span>
                          </td>
                          <td tal:repeat="country python:countries">
                            <span
                              tal:condition="python:table_data[tab][subcategory][country]['has_data']
                              is False">No data</span>
                            <i tal:condition="python:table_data[tab][subcategory][country]['has_data']
                              is True"
                               class="fa fa-square" aria-hidden="true"></i>
                          </td>
                          <td>
                            <a tal:attributes="href python:'TODO'">
                              Read more Â»
                            </a>
                          </td>
                        </tr>
                      </tal:repeat>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

        </tal:tab>
      </div>
    </div>
    </div>
  </body>
</html>
